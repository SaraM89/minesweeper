<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!--<script src="newindex.js"></script>-->
    <title>Minesweeper</title>
    <style>
      #div1 {
        margin: 10px;
        font-size: 1.25em;
      }
      table {
        border-collapse: collapse;
        border: 1px solid #7f7f7f;
      }
      td {
        border: 1px solid #7f7f7f;
        width: 50px;
        height: 50px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="inputContainer">
      <input type="text" id="rowsInput" placeholder="Rows number" />
      <input type="text" id="colsInput" placeholder="Columns number" />
      <input type="text" id="minesInput" placeholder="Mines number" />
    </div>
    <div class="container">
      <button id="btn" onclick="drawTable()">Play</button>

      <div id="div1"></div>
    </div>
    <script>
      function drawTable() {
        var totalRows = document.getElementById("rowsInput").value;
        var cellsInRow = document.getElementById("colsInput").value;
        let minesInput = document.getElementById("minesInput").value;
        var min = 1;
        var getRandom1 = [];
        var max = totalRows <= cellsInRow ? totalRows : cellsInRow;
        // get the reference for the body
        var div1 = document.getElementById("div1");

        // creates a <table> element
        var tbl = document.createElement("table");
        for (var x = 0; x < minesInput; x++) {
          getRandom1[x] = Math.floor(Math.random() * max);
          console.log(getRandom1[x]);
        }

        for (var i = 0; i < getRandom1.length; i++) {
          for (var j = 0; j < getRandom1.length; j++) {
            if (i != j) {
              if (getRandom1[i] == getRandom1[j]) {
                // means there are duplicate values
                getRandom1[i] = Math.floor(Math.random() * max);
                console.log(getRandom1[i]);
              }
            }
          }
        }

        // creating rows
        for (var r = 0; r < totalRows; r++) {
          var row = document.createElement("tr");

          // create cells in row
          for (var c = 0; c < cellsInRow; c++) {
            var cell = document.createElement("td");
            //getRandom = 3;
            for (var i = 0; i < getRandom1.length; i++) {
              if (r == getRandom1[i] && c == getRandom1[i]) {
                // console.log("a");

                var cellText = document.createTextNode("X");
                cell.appendChild(cellText);
                row.appendChild(cell);
              } else {
                //console.log("b");
                var cellText = document.createTextNode(" ");
                cell.appendChild(cellText);
                row.appendChild(cell);
              }
            }
          }

          tbl.appendChild(row); // add the row to the end of the table body
        }

        div1.appendChild(tbl); // appends <table> into <div1>
      }
    </script>
  </body>
</html>

<!--
  <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="newindex.js"></script>
    <title>Minesweeper</title>
    <style>
      #div1 {
        margin: 10px;
        font-size: 1.25em;
      }
      table {
        border-collapse: collapse;
        border: 1px solid #7f7f7f;
      }
      td {
        border: 1px solid #7f7f7f;
        width: 50px;
        height: 50px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="inputContainer">
      <input type="text" id="rowsInput" placeholder="Rows number" />
      <input type="text" id="colsInput" placeholder="Columns number" />
      <input type="text" id="minesInput" placeholder="Mines number" />
    </div>
    <div class="container">
      <button id="btn" onclick="drawTable()">Play</button>

      <div id="div1"></div>
    </div>
    <script>
      /*var totalRows = document.getElementById("rowsInput").value;
            var cellsInRow = document.getElementById("colsInput").value;
            var min = 1;
            var max = totalRows * cellsInRow;*/

      /* var totalRows = 5;
      var cellsInRow = 5;
      var min = 1;
      var max = 10;*/
      function drawTable() {
        var totalRows = document.getElementById("rowsInput").value;
        var cellsInRow = document.getElementById("colsInput").value;
        var min = 1;
        var max = totalRows * cellsInRow;
        // get the reference for the body
        var div1 = document.getElementById("div1");

        // creates a <table> element
        var tbl = document.createElement("table");

        // creating rows
        for (var r = 0; r < totalRows; r++) {
          var row = document.createElement("tr");

          // create cells in row
          for (var c = 0; c < cellsInRow; c++) {
            var cell = document.createElement("td");
            //getRandom = Math.floor(Math.random() * (max - min + 1)) + min;
            var cellText = document.createTextNode(
              Math.floor(Math.random() * (max - min + 1)) + min
            );
            cell.appendChild(cellText);
            row.appendChild(cell);
          }

          tbl.appendChild(row); // add the row to the end of the table body
        }

        div1.appendChild(tbl); // appends <table> into <div1>
      }
      window.onload = drawTable;
    </script>
  </body>
</html>-->
